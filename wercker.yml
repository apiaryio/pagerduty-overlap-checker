build:
  box: node:8
  steps:
    - npm-install
    - script:
        name: Lint
        code: npm run lint
    - script:
        name: Test
        code: npm run test
    - script:
        name: echo nodejs information
        code: |
          echo "node version $(node -v) running"
          echo "npm version $(npm -v) running"

semantic-release:
  box: node:8
  steps:
    - script:
        name: Release
        # code: npm run semantic-release || true
        code: npm run semantic-release

notify:
  box: apiaryio/alpine-bash-curl
  steps:
    - script:
      name: dummy step
      code: echo this is a dummy step
  after-steps:
    - apipcs/slack-notifier:
      url: $SLACK_URL
