language: node_js
node_js:
  - "8"
before_script:
  - "npm run lint"
before_install:
  # Travis CI has only shallow clone of the repository. We need to get the 'master' branch
  # so 'conventional-changelog-lint' could compare commits and lint them: marionebl/conventional-changelog-lint#7
  - "git remote set-branches origin master && git fetch && git checkout master && git checkout -"
  - "npm -g install npm@5"
after_success:
#  - "npm run coveralls || true"; @fixme: tempory commenting out, until coveralls flow for JS will be solved
  - "npm run semantic-release || true"
env:
  global:
    # travis encrypt NPM_TOKEN="***" GH_TOKEN="***"
    secure: pLH6J1VEIEvQEWiv2/1rh4927H/9Vy7SkJrgj0ctj0W/10gAJL8pmMoH9njX3vff++LpB722Go5bQivrOabj8W1eVzYvzrT0udzH50UDlLv6COyS5ob0DUnYdMmU7eP05oZC8lshW2+VYJPSNvhlM221mb7HE5EBQv7xFCxz2rXHnQX/B/ZMWBAEw3m42UqKB6N+v0QS+/9wB4pLoPtyl1E9Zm0jRy4owQEERPvXMtiSATcuuWppOjrhSW//CIJnHuu4Xw++izXjyQkkQq8PLHFtiGsH/fELPrwANBcrJwLDbzeyzaimn4WiK9ydaA8FCo+aYNcWhmCnyb24BiPtkVjJzhXvHU6JVqzs6rGVDEaorrAlGvatvPJkiLStCFdL8jbDno14tZzwj+ZTnkFmGe9wFMHYOF8EL7i1ubgjpcOQTrbsjyqdDoyOAMvC3YHLc5izPRVJBCk6AQjyF3m26re/X/yPCv01/Gp8egWx57EouaKgWVaTXgjK/rA3/knuRnRDFNsywHXTFFc7WKWRgR8BzjQJDaygavM8601mJP1YIwfy/NY6FOhzH2jZQowGpY93lwkbsZ8HjG47T/It0+N4mS4IP+Avd/me5gMdnmqCycP0AaZxLaB6DWCLtdsN4A3cDO15mfHm6fsMs9RfKs3Go5MrspFleQQEc5LSpp4=
notifications:
  slack:
    secure: WSCP8CEYbEJO+FSVwV4CJ6956Ihm5qo3Oxg8E3MG5zLJFGCs4NMe97Gwmqe20yQBTDHN7OL+FGjtWbpXsmpyUtUTOmKR7NzOnmcmu/fNhOHnADS5QLvfOCOq9snXTsiXdfqpkbi+AhpyhQrS+3WHR1JvpNspitv/C6LsiLp2pmN1OfsKR09W889KFKlP9wdYBkeuxmAuJ/I1Y81dW/j/IARW2inBz+MOI1+7N4woWT6KOLKxIcuYQQB8twHiQ4XGS3x8TbRCBFRNUymupUkrS9f+IT27ZGqsn7Xy/hHwVqjzTmJd6Td7NkoEdramM1WqPB9TNza+GQQrIuSmmB1blnyFo1tHWyDmGdvpTdACtBGXY+gtzLzU3VnpzuqLMMX+n1hQvbU/8X7TseTDblcra6Iaf+m6U/+BtnkTKemi3VKENegQTkZ9Jz/h+v94xKGA4b+gkDl76+EpJics1YPeKcfyAD8vQmH2T21OPPQc+NPe0w8FztyKd8D3EdRIeitVb1u4D/6c3haOr2spwr4KF1YdloTwsCeGdQoCMilU4tZM7Kqw7g/SNSD7Af1sdY1nklSLbeZg4Qg4QnuSTZ3nbIyG1GOHYUnabeTewg9sDSrHi7n6DLePsBJWcJEy89pHg61dbHHzqTdGBVY78lGJwFWCY0KekucHcCjULnjFDSU=
